<phone:PhoneApplicationPage xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                            xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
                            xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
                            xmlns:Flags="clr-namespace:Flags"
                            xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit"
                            xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
                            xmlns:cmd="clr-namespace:GalaSoft.MvvmLight.Command;assembly=GalaSoft.MvvmLight.Extras.WP71"
                            xmlns:controls="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls"
                            x:Class="Flags.MainWindowView"
                            mc:Ignorable="d"
                            d:DesignWidth="480"
                            d:DesignHeight="728"
                            SupportedOrientations="Portrait"
                            Orientation="Portrait"
                            shell:SystemTray.IsVisible="False">

    <phone:PhoneApplicationPage.Resources>
        <Flags:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
        <Flags:IntegerFlagToBrushConverter x:Key="IntegerFlagToColorConverter"
                                           TrueValue="{StaticResource PhoneAccentBrush}"
                                           FalseValue="DarkGray" />
        <Style x:Key="HubTileStyle0"
               TargetType="toolkit:HubTile">
            <Setter Property="Height"
                    Value="173" />
            <Setter Property="Width"
                    Value="173" />
            <Setter Property="Background"
                    Value="{StaticResource PhoneAccentBrush}" />
            <Setter Property="Foreground"
                    Value="#FFFFFFFF" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="toolkit:HubTile">
                        <StackPanel x:Name="Viewport"
                                    Height="173"
                                    Width="173">
                            <StackPanel.Resources>
                                <CubicEase x:Key="HubTileEaseOut"
                                           EasingMode="EaseOut" />
                            </StackPanel.Resources>
                            <StackPanel.Projection>
                                <PlaneProjection x:Name="ViewportProjection"
                                                 CenterOfRotationY="0.25" />
                            </StackPanel.Projection>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="ImageStates">
                                    <VisualStateGroup.Transitions>
                                        <VisualTransition x:Name="ExpandedToSemiexpanded"
                                                          From="Expanded"
                                                          GeneratedDuration="0:0:0.85"
                                                          To="Semiexpanded">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"
                                                                               Storyboard.TargetName="TitlePanel">
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.0"
                                                                          Value="-173.0" />
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.85"
                                                                          Value="-79.0" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="RotationX"
                                                                               Storyboard.TargetName="ViewportProjection">
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.0"
                                                                          Value="0.0" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                               Storyboard.TargetName="MessageBlock">
                                                    <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Collapsed" />
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualTransition>
                                        <VisualTransition x:Name="SemiexpandedToCollapsed"
                                                          From="Semiexpanded"
                                                          GeneratedDuration="0:0:0.85"
                                                          To="Collapsed">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"
                                                                               Storyboard.TargetName="TitlePanel">
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.0"
                                                                          Value="-79.0" />
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.85"
                                                                          Value="0.0" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                               Storyboard.TargetName="MessageBlock">
                                                    <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Collapsed" />
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualTransition>
                                        <VisualTransition x:Name="CollapsedToExpanded"
                                                          From="Collapsed"
                                                          GeneratedDuration="0:0:0.85"
                                                          To="Expanded">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"
                                                                               Storyboard.TargetName="TitlePanel">
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.0"
                                                                          Value="0.0" />
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.85"
                                                                          Value="-173.0" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                               Storyboard.TargetName="MessageBlock">
                                                    <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                            Value="Collapsed" />
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualTransition>
                                        <VisualTransition x:Name="ExpandedToFlipped"
                                                          From="Expanded"
                                                          GeneratedDuration="0:0:0.85"
                                                          To="Flipped">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"
                                                                               Storyboard.TargetName="TitlePanel">
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.0"
                                                                          Value="-173.0" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                               Storyboard.TargetName="Image">
                                                    <DiscreteObjectKeyFrame KeyTime="0:0:0.185"
                                                                            Value="Collapsed" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                               Storyboard.TargetName="ImageText">
                                                    <DiscreteObjectKeyFrame KeyTime="0:0:0.185"
                                                                            Value="Collapsed" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                               Storyboard.TargetName="MessageBlock">
                                                    <DiscreteObjectKeyFrame KeyTime="0:0:0.185"
                                                                            Value="Visible" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="RotationX"
                                                                               Storyboard.TargetName="ViewportProjection">
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.0"
                                                                          Value="0.0" />
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.85"
                                                                          Value="180.0" />
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualTransition>
                                        <VisualTransition x:Name="FlippedToExpanded"
                                                          From="Flipped"
                                                          GeneratedDuration="0:0:0.85"
                                                          To="Expanded">
                                            <Storyboard>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"
                                                                               Storyboard.TargetName="TitlePanel">
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.0"
                                                                          Value="-173.0" />
                                                </DoubleAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                               Storyboard.TargetName="Image">
                                                    <DiscreteObjectKeyFrame KeyTime="0:0:0.185"
                                                                            Value="Visible" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                               Storyboard.TargetName="ImageText">
                                                    <DiscreteObjectKeyFrame KeyTime="0:0:0.185"
                                                                            Value="Visible" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                               Storyboard.TargetName="MessageBlock">
                                                    <DiscreteObjectKeyFrame KeyTime="0:0:0.185"
                                                                            Value="Collapsed" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="RotationX"
                                                                               Storyboard.TargetName="ViewportProjection">
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.0"
                                                                          Value="180.0" />
                                                    <EasingDoubleKeyFrame EasingFunction="{StaticResource HubTileEaseOut}"
                                                                          KeyTime="0:0:0.85"
                                                                          Value="360.0" />
                                                </DoubleAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualTransition>
                                    </VisualStateGroup.Transitions>
                                    <VisualState x:Name="Expanded">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0"
                                                             To="-173.0"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"
                                                             Storyboard.TargetName="TitlePanel" />
                                            <DoubleAnimation Duration="0"
                                                             To="0.0"
                                                             Storyboard.TargetProperty="RotationX"
                                                             Storyboard.TargetName="ViewportProjection" />
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                           Storyboard.TargetName="Image">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                        Value="Visible" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                           Storyboard.TargetName="ImageText">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                        Value="Visible" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                           Storyboard.TargetName="MessageBlock">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                        Value="Collapsed" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Semiexpanded">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                           Storyboard.TargetName="MessageBlock">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                        Value="Collapsed" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <DoubleAnimation Duration="0"
                                                             To="-79.0"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"
                                                             Storyboard.TargetName="TitlePanel" />
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Collapsed" />
                                    <VisualState x:Name="Flipped">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0"
                                                             To="-173.0"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"
                                                             Storyboard.TargetName="TitlePanel" />
                                            <DoubleAnimation Duration="0"
                                                             To="180.0"
                                                             Storyboard.TargetProperty="RotationX"
                                                             Storyboard.TargetName="ViewportProjection" />
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                           Storyboard.TargetName="Image">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                        Value="Collapsed" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                           Storyboard.TargetName="ImageText">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                        Value="Collapsed" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                           Storyboard.TargetName="MessageBlock">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0"
                                                                        Value="Visible" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <Grid x:Name="TitlePanel"
                                  Height="346"
                                  RenderTransformOrigin="0.5,0.5"
                                  Width="173">
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition />
                                </Grid.RowDefinitions>
                                <Grid.RenderTransform>
                                    <CompositeTransform />
                                </Grid.RenderTransform>
                                <Border Background="{TemplateBinding Background}"
                                        Grid.Row="0">
                                    <TextBlock Foreground="{TemplateBinding Foreground}"
                                               FontSize="41"
                                               FontFamily="{StaticResource PhoneFontFamilyNormal}"
                                               LineStackingStrategy="BlockLineHeight"
                                               LineHeight="39"
                                               Margin="10,0,0,6"
                                               TextWrapping="Wrap"
                                               Text="{TemplateBinding Title}"
                                               VerticalAlignment="Bottom" />
                                </Border>
                                <Grid x:Name="BackPanel"
                                      Background="{TemplateBinding Background}"
                                      Height="173"
                                      Grid.Row="1"
                                      Width="173">
                                    <Grid.Projection>
                                        <PlaneProjection CenterOfRotationY="0.5"
                                                         RotationX="180" />
                                    </Grid.Projection>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <TextBlock x:Name="NotificationBlock"
                                               Foreground="{TemplateBinding Foreground}"
                                               FontSize="{StaticResource PhoneFontSizeLarge}"
                                               FontFamily="{StaticResource PhoneFontFamilyNormal}"
                                               LineStackingStrategy="BlockLineHeight"
                                               LineHeight="32"
                                               Margin="8,8,0,6"
                                               Grid.Row="0"
                                               TextWrapping="NoWrap"
                                               Text="{TemplateBinding Notification}" />
                                    <TextBlock x:Name="MessageBlock"
                                               Foreground="{TemplateBinding Foreground}"
                                               FontSize="{StaticResource PhoneFontSizeNormal}"
                                               FontFamily="{StaticResource PhoneFontFamilyNormal}"
                                               LineStackingStrategy="BlockLineHeight"
                                               LineHeight="23.333"
                                               Margin="10,10,10,6"
                                               Grid.Row="0"
                                               TextWrapping="Wrap"
                                               Text="{TemplateBinding Message}" />
                                </Grid>
                                <Image x:Name="Image"
                                       Grid.Row="1"
                                       Source="{TemplateBinding Source}"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Width="147" />
                                <!--Stretch="UniformToFill"
                                       Height="173"
                                       Width="173"-->

                                <TextBlock x:Name="ImageText"
                                           Foreground="{TemplateBinding Foreground}"
                                           FontSize="{StaticResource PhoneFontSizeNormal}"
                                           FontFamily="{StaticResource PhoneFontFamilyNormal}"
                                           LineStackingStrategy="BlockLineHeight"
                                           LineHeight="23.333"
                                           Margin="10,10,10,6"
                                           Grid.Row="1"
                                           TextWrapping="Wrap"
                                           VerticalAlignment="Bottom"
                                           Text="{TemplateBinding Title}" />
                            </Grid>
                        </StackPanel>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </phone:PhoneApplicationPage.Resources>

    <phone:PhoneApplicationPage.FontFamily>
        <StaticResource ResourceKey="PhoneFontFamilyNormal" />
    </phone:PhoneApplicationPage.FontFamily>
    <phone:PhoneApplicationPage.FontSize>
        <StaticResource ResourceKey="PhoneFontSizeNormal" />
    </phone:PhoneApplicationPage.FontSize>
    <phone:PhoneApplicationPage.Foreground>
        <StaticResource ResourceKey="PhoneForegroundBrush" />
    </phone:PhoneApplicationPage.Foreground>
    <phone:PhoneApplicationPage.DataContext>
        <Binding Path="MainWindowVm"
                 Source="{StaticResource Locator}" />
    </phone:PhoneApplicationPage.DataContext>
    <phone:PhoneApplicationPage.Style>
        <StaticResource ResourceKey="TransitionPageStyle" />
    </phone:PhoneApplicationPage.Style>

    <toolkit:GestureService.GestureListener>
        <toolkit:GestureListener Flick="GestureListenerFlick" />
    </toolkit:GestureService.GestureListener>

    <Grid Background="#FF9D5B0A">
        <Grid.RowDefinitions>
            <RowDefinition />
        </Grid.RowDefinitions>

        <controls:Panorama Height="799"
                           Title="flag helper"
                           Width="480">
            <controls:PanoramaItem Header="shape">
                <ListBox Width="420">
                    <ListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <toolkit:WrapPanel Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                    </ListBox.ItemsPanel>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ShapeNumber, ConverterParameter=0, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="FRA like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyShapeNumberCommand}"
                                                    CommandParameter="0" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ShapeNumber, ConverterParameter=1, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="MLT like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyShapeNumberCommand}"
                                                    CommandParameter="1" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ShapeNumber, ConverterParameter=2, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="GER like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyShapeNumberCommand}"
                                                    CommandParameter="2" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ShapeNumber, ConverterParameter=3, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="POL like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyShapeNumberCommand}"
                                                    CommandParameter="3" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ShapeNumber, ConverterParameter=4, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="URU like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyShapeNumberCommand}"
                                                    CommandParameter="4" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ShapeNumber, ConverterParameter=5, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="LYB like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyShapeNumberCommand}"
                                                    CommandParameter="5" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>




                    <!--<toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                             Source="/FlagsWP7;component/Background.png"
                                             Message="USA                                       North America                                      Washington                                                                            HOLD TO SHOW DETAILS."
                                             Margin="13, 13, 0, 0"
                                             x:Name="hubTile1"
                                             Title="USA"
                                             IsFrozen="True"
                                             Tap="HubTile_OnTap">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="Hold">
                                        <cmd:EventToCommand Command="{Binding HoldTileCommand}"
                                                            CommandParameter="us" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </toolkit:HubTile>-->


                </ListBox>
            </controls:PanoramaItem>



            <controls:PanoramaItem Header="additional">
                <ListBox Width="420">
                    <ListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <toolkit:WrapPanel Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                    </ListBox.ItemsPanel>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding AddNumber, ConverterParameter=0, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="JAP like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyAddNumberCommand}"
                                                    CommandParameter="0" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding AddNumber, ConverterParameter=1, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="USA like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyAddNumberCommand}"
                                                    CommandParameter="1" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding AddNumber, ConverterParameter=2, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="CZE like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyAddNumberCommand}"
                                                    CommandParameter="2" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding AddNumber, ConverterParameter=3, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="BLR like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyAddNumberCommand}"
                                                    CommandParameter="3" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding AddNumber, ConverterParameter=4, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="ENG like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyAddNumberCommand}"
                                                    CommandParameter="4" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding AddNumber, ConverterParameter=5, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="JAM like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyAddNumberCommand}"
                                                    CommandParameter="5" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding AddNumber, ConverterParameter=6, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="TRI/ like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyAddNumberCommand}"
                                                    CommandParameter="6" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding AddNumber, ConverterParameter=7, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="BHU\ like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyAddNumberCommand}"
                                                    CommandParameter="7" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>
                </ListBox>
            </controls:PanoramaItem>



            <controls:PanoramaItem Header="colors">
                <ListBox Width="420">
                    <ListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <toolkit:WrapPanel Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                    </ListBox.ItemsPanel>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ColorNumber, ConverterParameter=0, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="JAP like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyColorNumberCommand}"
                                                    CommandParameter="0" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ColorNumber, ConverterParameter=1, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="USA like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyColorNumberCommand}"
                                                    CommandParameter="1" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ColorNumber, ConverterParameter=2, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="CZE like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyColorNumberCommand}"
                                                    CommandParameter="2" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ColorNumber, ConverterParameter=3, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="BLR like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyColorNumberCommand}"
                                                    CommandParameter="3" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ColorNumber, ConverterParameter=4, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="ENG like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyColorNumberCommand}"
                                                    CommandParameter="4" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ColorNumber, ConverterParameter=5, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="JAM like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyColorNumberCommand}"
                                                    CommandParameter="5" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ColorNumber, ConverterParameter=6, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="TRI/ like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyColorNumberCommand}"
                                                    CommandParameter="6" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                    <toolkit:HubTile Style="{StaticResource HubTileStyle0}"
                                     Source="/FlagsWP7;component/Background.png"
                                     Background="{Binding ColorNumber, ConverterParameter=7, Converter={StaticResource IntegerFlagToColorConverter}}"
                                     Title="BHU\ like"
                                     Margin="13, 13, 0, 0"
                                     IsFrozen="True">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Tap">
                                <cmd:EventToCommand Command="{Binding ModifyColorNumberCommand}"
                                                    CommandParameter="7" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </toolkit:HubTile>

                </ListBox>
            </controls:PanoramaItem>
        </controls:Panorama>

        <Border x:Name="PleaseWaitMessageBorder"
                Visibility="{Binding ShowPleaseWaitInfo, Converter={StaticResource BooleanToVisibilityConverter}}"
                BorderThickness="3"
                Margin="66,229,50,206"
                Grid.Row="1"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Height="103"
                Width="291">
            <Border.BorderBrush>
                <SolidColorBrush Color="{StaticResource PhoneBorderColor}" />
            </Border.BorderBrush>
            <Border.Background>
                <SolidColorBrush Color="{StaticResource PhoneAccentColor}" />
            </Border.Background>
            <TextBlock TextWrapping="Wrap"
                       Text="Please wait..."
                       FontSize="45.333"
                       Margin="3"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center" />
        </Border>
    </Grid>


    <phone:PhoneApplicationPage.ApplicationBar>
        <shell:ApplicationBar IsVisible="True">
            <shell:ApplicationBarIconButton Click="ApplicationBarIconButtonClick"
                                            Text="Find!"
                                            IconUri="/icons/appbar.feature.search.rest.png" />
        </shell:ApplicationBar>
    </phone:PhoneApplicationPage.ApplicationBar>

</phone:PhoneApplicationPage>